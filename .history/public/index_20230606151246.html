<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JCC Flower Shop</title>
    <link rel="stylesheet" href="/style.css" />
    <script>
      // Retrieve the products data passed from the server-side
      var products = JSON.parse('<%- products %>');
      
      // Render the products on the page
      function renderProducts() {
        var appElement = document.getElementById("app");
        
        // Create a container for the products
        var productsContainer = document.createElement("div");
        productsContainer.setAttribute("id", "products-container");
        
        // Loop through the products and create a card for each product
        products.forEach(function(product) {
          var cardElement = document.createElement("div");
          cardElement.classList.add("product-card");
          
          // Display the product information
          var nameElement = document.createElement("h3");
          nameElement.innerText = product.name;
          cardElement.appendChild(nameElement);
          
          var priceElement = document.createElement("p");
          priceElement.innerText = "Price: $" + product.price.toFixed(2);
          cardElement.appendChild(priceElement);
          
          var descriptionElement = document.createElement("p");
          descriptionElement.innerText = product.description;
          cardElement.appendChild(descriptionElement);
          
          // Append the card to the products container
          productsContainer.appendChild(cardElement);
        });
        
        // Append the products container to the app element
        appElement.appendChild(productsContainer);
      }
      
      // Call the renderProducts function when the page is loaded
      window.addEventListener("load", renderProducts);
    </script>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>